# 🚀 Flutter TODO - 전역 Spotlight 단축키

macOS Spotlight처럼 `Command + ,` 키 조합으로 어디서든 빠르게 TODO를 추가할 수 있는 Flutter 앱입니다.

## ✨ 주요 기능

### 🎯 전역 단축키
- **`Command + ,`**: 어느 앱에서든 Spotlight 스타일의 TODO 추가 창이 나타남
- **자동 권한 요청**: 앱 시작 시 접근성 권한이 필요하다면 자동으로 안내

### 📱 스마트한 창 관리
- **플로팅 메인 창**: 항상 위에 떠있는 투명한 TODO 리스트
- **동적 크기 조절**: Spotlight 모드에서는 큰 창으로, 일반 모드에서는 작은 창으로 자동 변환
- **우아한 애니메이션**: 부드러운 전환 효과

### 🎨 사용자 경험
- **즉시 포커스**: 창이 열리면 바로 타이핑 가능
- **키보드 친화적**: Enter로 추가, Esc로 닫기
- **수동 실행**: 권한이 없어도 버튼으로 Spotlight 창 열기 가능

## 🛠️ 설치 및 실행

### 1. 의존성 설치
```bash
flutter pub get
```

### 2. 앱 실행
```bash
flutter run -d macos
```

### 3. 접근성 권한 설정 (선택사항)
앱 시작 시 다이얼로그가 나타나면:
1. "설정 열기" 버튼 클릭
2. 시스템 환경설정에서 "보안 및 개인정보보호" → "접근성"
3. TODO 앱에 체크 표시
4. 앱 재시작

> 💡 **참고**: 권한을 허용하지 않아도 앱은 정상 작동하며, 수동으로 Spotlight 창을 열 수 있습니다.

## 🎮 사용 방법

### 기본 작업 흐름
1. **앱 실행**: 작은 플로팅 창이 화면 구석에 나타남
2. **TODO 보기**: 현재 해야 할 작업들을 한눈에 확인
3. **빠른 추가**: `Command + ,` 키로 Spotlight 창 열기
4. **상세 입력**: 작업 내용, 우선순위, 마감시간, 요청자 설정
5. **즉시 저장**: Enter 키로 저장하고 창 닫기

### 키보드 단축키

#### 전역 (모든 앱에서 사용 가능)
- **`Command + ,`**: Spotlight 창 열기

#### Spotlight 창 내부
- **`Enter`**: 작업 추가하고 창 닫기
- **`Esc`**: 창 닫기 (저장하지 않음)
- **`Tab`**: 다음 입력 필드로 이동

#### 메인 창
- **마우스 호버**: 작업 추가 옵션 표시
- **작업 클릭**: 완료/삭제 메뉴 표시

## 🎨 UI 특징

### 메인 TODO 창
- 📦 **컴팩트 디자인**: 320×260 픽셀의 작은 창
- 🌟 **항상 위에 표시**: 다른 앱들 위에 떠있음
- 👻 **투명 배경**: 뒤의 화면이 보이는 반투명 효과
- 📋 **최대 3개 작업**: 가장 중요한 작업들만 표시
- 🎯 **우선순위 표시**: 색상으로 구분되는 우선순위 점

### Spotlight 창
- 🔍 **중앙 정렬**: 항상 화면 중앙에 표시
- 🎭 **모달 오버레이**: 반투명 배경으로 포커스 집중
- ⚡ **빠른 애니메이션**: 0.3초의 부드러운 등장/사라짐
- 📝 **완전한 양식**: 모든 작업 속성을 한 번에 입력
- 🎨 **macOS 스타일**: Spotlight과 유사한 디자인

## 🏗️ 기술 스택

### 핵심 기술
- **Flutter 3.8+**: 크로스 플랫폼 UI 프레임워크
- **Riverpod**: 상태 관리
- **window_manager**: 창 관리 및 투명도 제어
- **flutter_acrylic**: macOS 네이티브 투명 효과
- **hotkey_manager**: 전역 키보드 단축키

### 아키텍처
```
📁 lib/
├── 🎯 main.dart                     # 앱 진입점 및 전역 단축키 초기화
├── 📱 views/
│   └── FloatingTaskView.dart        # 메인 플로팅 TODO 뷰
├── 🧩 view_component/
│   ├── spotlight_task_creator.dart  # Spotlight 창 컴포넌트
│   ├── task_creation_bar.dart       # 인라인 작업 추가 바
│   └── accessibility_permission_dialog.dart # 권한 요청 다이얼로그
├── 🎮 controllers/
│   └── task_controller.dart         # Riverpod 상태 관리
├── 📊 models/
│   └── TaskModel.dart              # 작업 데이터 모델
└── ⚙️ services/
    ├── global_hotkey_service.dart   # 전역 단축키 관리
    └── spotlight_window_manager.dart # 창 크기/위치 관리
```

## ⚡ 성능 최적화

- **메모리 효율성**: 스트림 기반 상태 관리로 불필요한 리빌드 방지
- **빠른 시작**: 필수 서비스만 초기화하여 앱 시작 시간 단축
- **네이티브 투명도**: GPU 가속 투명 효과 사용
- **키보드 우선**: 마우스보다 키보드 조작을 우선 설계

## 🔮 향후 개선 계획

### 단기 목표
- [ ] **다크 모드**: 시스템 테마에 맞는 자동 전환
- [ ] **드래그 앤 드롭**: 작업 순서 변경
- [ ] **알림**: 마감시간 임박 시 시스템 알림

### 장기 목표
- [ ] **iCloud 동기화**: 여러 Mac 간 작업 동기화
- [ ] **Apple Watch**: 손목에서 작업 확인 및 완료
- [ ] **Siri 단축어**: 음성으로 작업 추가
- [ ] **Focus 모드 연동**: macOS Focus와 연동하여 작업 필터링

## 🐛 문제 해결

### 전역 단축키가 작동하지 않는 경우
1. **접근성 권한 확인**:
   - 시스템 환경설정 → 보안 및 개인정보보호 → 접근성
   - TODO 앱이 목록에 있고 체크되어 있는지 확인

2. **앱 재시작**: 권한 변경 후 앱을 완전히 종료하고 다시 시작

3. **대체 방법**: 메인 창에서 "빠른 작업 추가" 버튼 사용

### 창이 사라지거나 찾을 수 없는 경우
- **독(Dock)에서 앱 클릭**: 창이 다시 나타남
- **Alt + Tab**: 앱 전환으로 창 활성화

### 투명 효과가 작동하지 않는 경우
- **macOS 버전 확인**: macOS 10.14 이상 필요
- **시스템 설정**: 시스템 환경설정 → 접근성 → 디스플레이 → "투명도 줄이기" 해제

## 📄 라이선스

MIT License - 자유롭게 사용, 수정, 배포 가능합니다.

## 🤝 기여하기

버그 리포트, 기능 요청, 풀 리퀘스트 모두 환영합니다!

---

**💡 팁**: 이 앱을 로그인 시 자동 시작하도록 설정하면 항상 빠른 TODO 관리가 가능합니다!

**⚡ 지금 시작하기**: `flutter run -d macos` 명령어로 바로 체험해보세요!
